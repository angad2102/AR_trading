var SingleLayerPerceptron = require("../lib/index").perceptrons.SingleLayerPerceptron;
var readline = require("readline");
var rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

var inputs = 
[
    [.6,.603], [.603,.6], [.64,.66],
    [.65,.67], [.66,.68], [.68,.63],
    [.63,.62], [.62,.61], [.61,.60],
];

var outputs = [
    1, -1, 1,
    1, 1, -1, 
    -1, -1, -1
];

slp = new SingleLayerPerceptron(inputs, outputs, 0.001);

var acceptInput = function(err, trainedModel) {
    console.log(err);
    var inp = function() {
        rl.question("Input: ", function(answer) {
            var arr = answer.split(",");
            var x = parseFloat(arr[0]);
            var y = parseFloat(arr[1]);
            trainedModel.perceive([x,y], function(err, result) {
                console.log(result);
                inp();
            });
        });
    }
    inp();
}

slp.train(acceptInput);
